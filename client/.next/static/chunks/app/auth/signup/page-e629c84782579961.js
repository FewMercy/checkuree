(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{17409:function(e,t,s){Promise.resolve().then(s.bind(s,9971))},62413:function(e,t,s){"use strict";var n=s(12607);class o extends n.Z{static getInstance(){return null==this.instance&&(this.instance=new o),this.instance}constructor(e){super("https://checkuree.com/api/v1",e),this.userLogin=e=>this.axios.request({method:"POST",url:"/auth/signin",data:e}),this.userRegister=e=>this.axios.request({method:"POST",url:"/auth/signup",data:e}),this.userCheckEmail=e=>this.axios.request({method:"GET",url:"/auth/check-email?email=".concat(e),data:e}),this.userCheckPhoneNumber=e=>this.axios.request({method:"GET",url:"/auth/check-mobile-number?mobileNumber=".concat(e),data:e}),this.userCheckUsername=e=>this.axios.request({method:"GET",url:"/auth/check-username?username=".concat(e),data:e}),this.userInfo=()=>this.axios.request({method:"GET",url:"/users"})}}t.Z=o},12607:function(e,t,s){"use strict";var n=s(7908),o=s(98955),a=s(44614);class r{getAccessToken(){var e;return(null===(e=this.tokens)||void 0===e?void 0:e.accessToken)?this.tokens.accessToken:o.Z.get("ACCESS_TOKEN")}getRefreshToken(){var e;return(null===(e=this.tokens)||void 0===e?void 0:e.refreshToken)?this.tokens.refreshToken:o.Z.get("REFRESH_TOKEN")}async refresh(e){let t=this.getRefreshToken();if(null!=t)try{let s=await n.Z.request({baseURL:"https://checkuree.com/api/v1",url:"/auth/refresh-token",method:"POST",data:{refreshToken:t}});return(0,a.d)({accessToken:s.data.data.accessToken,refreshToken:s.data.data.refreshToken}),n.Z.request({...e,headers:{...e.headers,Authorization:"Bearer ".concat(s.data.data.accessToken)}})}catch(e){console.error("[Refresh error]",e)}return(0,a.y)(),"/auth/signin"!==window.location.pathname&&window.location.replace("/auth/signin"),Promise.reject(Error("로그인을 연장할 수 없습니다."))}constructor(e,t){var s;this.tokens=t,this.axios=n.Z.create({baseURL:e,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(null===(s=this.tokens)||void 0===s?void 0:s.accessToken)}}),this.axios.interceptors.request.use(async e=>{let t=this.getAccessToken();return e.headers.Authorization="Bearer ".concat(t),e}),this.axios.interceptors.response.use(e=>e,async e=>{let{status:t,statusText:s,data:n,request:{responseURL:a}}=e.response;console.error("API Error => responseURL : ".concat(a," status:").concat(t," statusText:").concat(s," data:").concat(JSON.stringify(n)));let r=o.Z.get("ACCESS_TOKEN");return null!=r&&401===t?this.refresh(e.config):(401===t&&(e.config.headers.Authorization="Bearer ".concat(r)),Promise.reject(e))})}}t.Z=r},9971:function(e,t,s){"use strict";s.r(t);var n=s(57437),o=s(62413),a=s(54272),r=s(39424),i=s(58836),l=s(4598),u=s(29835),c=s(6285),d=s(2265),h=s(20703),p=s(41124),x=s(20568),m=s(47907);t.default=()=>{let e=(0,p.ac)({query:"(min-width: 393px)"}),t=(0,m.useRouter)(),[s,i]=(0,d.useState)(!1),[l,u]=(0,d.useState)(!1),[c,C]=(0,d.useState)(!1),[T,E]=(0,d.useState)(!1),[j,y]=(0,d.useState)(),w=(e,t)=>{y(s=>({...s,[e]:t}))},{mutate:P}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userRegister(j),onSuccess:()=>{alert("가입이 완료되었습니다."),t.push("/auth/signin")}}),{mutate:N}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckEmail(null==j?void 0:j.email),onSuccess:()=>{alert("인증되었습니다!"),C(!0)}}),{mutate:R}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckPhoneNumber(null==j?void 0:j.mobileNumber),onSuccess:()=>{alert("인증되었습니다!"),u(!0)}}),{mutate:_}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckUsername(null==j?void 0:j.username),onSuccess:()=>{alert("인증되었습니다!"),E(!0)}});return(0,d.useEffect)(()=>{i(!0)},[]),(0,n.jsx)("div",{children:s&&!0===e?(0,n.jsx)(f,{children:(0,n.jsxs)(k,{children:[(0,n.jsx)(b,{children:"회원가입"}),(0,n.jsxs)(a.Z,{component:"form",display:"flex",flexDirection:"column",gap:"10px",children:[(0,n.jsx)(r.Z,{value:null==j?void 0:j.name,placeholder:"이름을 입력해주세요.",onChange:e=>w("name",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,n.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,n.jsx)(r.Z,{value:null==j?void 0:j.mobileNumber,placeholder:"핸드폰 번호를 입력해주세요.",disabled:l,onChange:e=>w("mobileNumber",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,n.jsx)(Z,{onClick:()=>R(),disabled:(null==j?void 0:j.mobileNumber)===void 0||(null==j?void 0:j.mobileNumber)==="",sx:{backgroundColor:(null==j?void 0:j.mobileNumber)===void 0||(null==j?void 0:j.mobileNumber)===""?null:"black"},children:l?"확인완료":"인증요청"})]}),(0,n.jsx)(r.Z,{value:null==j?void 0:j.birthday,placeholder:"생년월일을 선택해주세요.",onChange:e=>w("birthday",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,n.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,n.jsx)(r.Z,{value:null==j?void 0:j.email,placeholder:"이메일 주소를 입력해주세요.",disabled:c,onChange:e=>w("email",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,n.jsx)(Z,{onClick:()=>N(),disabled:(null==j?void 0:j.email)===void 0||(null==j?void 0:j.email)==="",sx:{backgroundColor:(null==j?void 0:j.email)===void 0||(null==j?void 0:j.email)===""?null:"black"},children:c?"확인완료":"중복확인"})]}),(0,n.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,n.jsx)(r.Z,{value:null==j?void 0:j.username,placeholder:"아이디를 입력해주세요.",disabled:T,onChange:e=>w("username",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,n.jsx)(Z,{onClick:()=>_(),disabled:(null==j?void 0:j.username)===void 0||(null==j?void 0:j.username)==="",sx:{backgroundColor:(null==j?void 0:j.username)===void 0||(null==j?void 0:j.username)===""?null:"black"},children:T?"확인완료":"중복확인"})]}),(0,n.jsx)(r.Z,{value:null==j?void 0:j.password,placeholder:"비밀번호를 입력해주세요.",onChange:e=>w("password",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,n.jsx)(r.Z,{value:null==j?void 0:j.password,placeholder:"비밀번호를 확인해주세요.",onChange:e=>w("password",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,n.jsx)(S,{sx:{backgroundColor:l&&c&&T?"#59996B":null},disabled:!l||!c||!T,onClick:()=>{P()},children:"가입하기"})]}),(0,n.jsx)(h.default,{src:"/images/logos/checkuree_logo.svg",width:100,height:100,alt:""})]})}):(0,n.jsx)(h.default,{src:"/images/logos/checkuree_logo.svg",width:200,height:200,alt:""})})};let g={style:{backgroundColor:"white",padding:"0px",width:"301px",height:"40px",borderRadius:"8px",border:"0px",paddingLeft:"12px",fontSize:"16px"}},v={style:{backgroundColor:"white",padding:"0px",width:"213px",height:"40px",borderRadius:"8px",border:"0px",paddingLeft:"12px",fontSize:"16px"}},f=(0,i.ZP)(l.Z)(()=>({display:"flex",justifyContent:"space-around",alignItems:"center",height:"100%"})),k=(0,i.ZP)(a.Z)(()=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"28px"})),b=(0,i.ZP)(u.Z)(()=>({fontWeight:600,fontSize:"32px",lineHeight:"43.58px"})),C=(0,i.ZP)(c.Z)(()=>({borderRadius:"8px",width:"80px",height:"39px"})),Z=(0,i.ZP)(C)(()=>({color:"white",backgroundColor:"#d5d5d5"})),S=(0,i.ZP)(c.Z)(()=>({color:"white",backgroundColor:"#d5d5d5",width:"313px",height:"48px"}))},44614:function(e,t,s){"use strict";s.d(t,{d:function(){return o},y:function(){return a}});var n=s(98955);function o(e){n.Z.set("ACCESS_TOKEN",e.accessToken),e.refreshToken&&n.Z.set("REFRESH_TOKEN",e.refreshToken)}function a(){n.Z.remove("ACCESS_TOKEN"),n.Z.remove("REFRESH_TOKEN")}}},function(e){e.O(0,[451,910,549,321,332,738,163,971,69,744],function(){return e(e.s=17409)}),_N_E=e.O()}]);