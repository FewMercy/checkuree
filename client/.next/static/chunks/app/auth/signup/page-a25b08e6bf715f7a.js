(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{21434:function(e,t,n){Promise.resolve().then(n.bind(n,9971))},62413:function(e,t,n){"use strict";var s=n(12607);class o extends s.Z{static getInstance(){return null==this.instance&&(this.instance=new o),this.instance}constructor(e){super("https://checkuree.com/api/v1",e),this.userLogin=e=>this.axios.request({method:"POST",url:"/auth/signin",data:e}),this.userRegister=e=>this.axios.request({method:"POST",url:"/auth/signup",data:e}),this.userCheckEmail=e=>this.axios.request({method:"GET",url:"/auth/check-email?email=".concat(e),data:e}),this.userCheckPhoneNumber=e=>this.axios.request({method:"GET",url:"/auth/check-mobile-number?mobileNumber=".concat(e),data:e}),this.userCheckUsername=e=>this.axios.request({method:"GET",url:"/auth/check-username?username=".concat(e),data:e})}}t.Z=o},12607:function(e,t,n){"use strict";var s=n(7908),o=n(98955),a=n(44614);class r{getAccessToken(){var e;return(null===(e=this.tokens)||void 0===e?void 0:e.accessToken)?this.tokens.accessToken:o.Z.get("ACCESS_TOKEN")}getRefreshToken(){var e;return(null===(e=this.tokens)||void 0===e?void 0:e.refreshToken)?this.tokens.refreshToken:o.Z.get("REFRESH_TOKEN")}async refresh(e){let t=this.getRefreshToken();if(null!=t)try{let n=await s.Z.request({baseURL:"https://checkuree.com/api/v1",url:"/auth/refresh-token",method:"POST",data:{refreshToken:t}});return(0,a.d)({accessToken:n.data.data.accessToken,refreshToken:n.data.data.refreshToken}),s.Z.request({...e,headers:{...e.headers,Authorization:"Bearer ".concat(n.data.data.accessToken)}})}catch(e){console.error("[Refresh error]",e)}return(0,a.y)(),"/auth/signin"!==window.location.pathname&&window.location.replace("/auth/signin"),Promise.reject(Error("로그인을 연장할 수 없습니다."))}constructor(e,t){var n;this.tokens=t,this.axios=s.Z.create({baseURL:e,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(null===(n=this.tokens)||void 0===n?void 0:n.accessToken)}}),this.axios.interceptors.request.use(async e=>{let t=this.getAccessToken();return e.headers.Authorization="Bearer ".concat(t),e}),this.axios.interceptors.response.use(e=>e,async e=>{let{status:t,statusText:n,data:s,request:{responseURL:a}}=e.response;console.error("API Error => responseURL : ".concat(a," status:").concat(t," statusText:").concat(n," data:").concat(JSON.stringify(s)));let r=o.Z.get("ACCESS_TOKEN");return null!=r&&401===t?this.refresh(e.config):(401===t&&(e.config.headers.Authorization="Bearer ".concat(r)),Promise.reject(e))})}}t.Z=r},9971:function(e,t,n){"use strict";n.r(t);var s=n(57437),o=n(62413),a=n(54272),r=n(39424),i=n(58836),l=n(4598),u=n(29835),c=n(6285),d=n(2265),h=n(20703),p=n(41124),x=n(20568),m=n(47907);t.default=()=>{let e=(0,p.ac)({query:"(min-width: 393px)"}),t=(0,m.useRouter)(),[n,i]=(0,d.useState)(!1),[l,u]=(0,d.useState)(!1),[c,C]=(0,d.useState)(!1),[T,j]=(0,d.useState)(!1),[E,y]=(0,d.useState)(),w=(e,t)=>{y(n=>({...n,[e]:t}))},{mutate:P}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userRegister(E),onSuccess:()=>{alert("가입이 완료되었습니다."),t.push("/auth/signin")}}),{mutate:N}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckEmail(null==E?void 0:E.email),onSuccess:()=>{alert("인증되었습니다!"),C(!0)}}),{mutate:R}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckPhoneNumber(null==E?void 0:E.mobileNumber),onSuccess:()=>{alert("인증되었습니다!"),u(!0)}}),{mutate:_}=(0,x.D)({mutationKey:[""],mutationFn:()=>o.Z.getInstance().userCheckUsername(null==E?void 0:E.username),onSuccess:()=>{alert("인증되었습니다!"),j(!0)}});return(0,d.useEffect)(()=>{i(!0)},[]),(0,s.jsx)("div",{children:n&&!0===e?(0,s.jsx)(f,{children:(0,s.jsxs)(k,{children:[(0,s.jsx)(b,{children:"회원가입"}),(0,s.jsxs)(a.Z,{component:"form",display:"flex",flexDirection:"column",gap:"10px",children:[(0,s.jsx)(r.Z,{value:null==E?void 0:E.name,placeholder:"이름을 입력해주세요.",onChange:e=>w("name",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,s.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,s.jsx)(r.Z,{value:null==E?void 0:E.mobileNumber,placeholder:"핸드폰 번호를 입력해주세요.",disabled:l,onChange:e=>w("mobileNumber",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,s.jsx)(Z,{onClick:()=>R(),disabled:(null==E?void 0:E.mobileNumber)===void 0||(null==E?void 0:E.mobileNumber)==="",sx:{backgroundColor:(null==E?void 0:E.mobileNumber)===void 0||(null==E?void 0:E.mobileNumber)===""?null:"black"},children:l?"확인완료":"인증요청"})]}),(0,s.jsx)(r.Z,{value:null==E?void 0:E.birthday,placeholder:"생년월일을 선택해주세요.",onChange:e=>w("birthday",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,s.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,s.jsx)(r.Z,{value:null==E?void 0:E.email,placeholder:"이메일 주소를 입력해주세요.",disabled:c,onChange:e=>w("email",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,s.jsx)(Z,{onClick:()=>N(),disabled:(null==E?void 0:E.email)===void 0||(null==E?void 0:E.email)==="",sx:{backgroundColor:(null==E?void 0:E.email)===void 0||(null==E?void 0:E.email)===""?null:"black"},children:c?"확인완료":"중복확인"})]}),(0,s.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,s.jsx)(r.Z,{value:null==E?void 0:E.username,placeholder:"아이디를 입력해주세요.",disabled:T,onChange:e=>w("username",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:v}),(0,s.jsx)(Z,{onClick:()=>_(),disabled:(null==E?void 0:E.username)===void 0||(null==E?void 0:E.username)==="",sx:{backgroundColor:(null==E?void 0:E.username)===void 0||(null==E?void 0:E.username)===""?null:"black"},children:T?"확인완료":"중복확인"})]}),(0,s.jsx)(r.Z,{value:null==E?void 0:E.password,placeholder:"비밀번호를 입력해주세요.",onChange:e=>w("password",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,s.jsx)(r.Z,{value:null==E?void 0:E.password,placeholder:"비밀번호를 확인해주세요.",onChange:e=>w("password",e.target.value),sx:{"&::placeholder":{fontSize:"24px"}},inputProps:g}),(0,s.jsx)(S,{sx:{backgroundColor:l&&c&&T?"#59996B":null},disabled:!l||!c||!T,onClick:()=>{P()},children:"가입하기"})]}),(0,s.jsx)(h.default,{src:"/images/logos/checkuree_logo.svg",width:100,height:100,alt:""})]})}):(0,s.jsx)(h.default,{src:"/images/logos/checkuree_logo.svg",width:200,height:200,alt:""})})};let g={style:{backgroundColor:"white",padding:"0px",width:"301px",height:"40px",borderRadius:"8px",border:"0px",paddingLeft:"12px",fontSize:"16px"}},v={style:{backgroundColor:"white",padding:"0px",width:"213px",height:"40px",borderRadius:"8px",border:"0px",paddingLeft:"12px",fontSize:"16px"}},f=(0,i.ZP)(l.Z)(()=>({display:"flex",justifyContent:"space-around",alignItems:"center",height:"100%"})),k=(0,i.ZP)(a.Z)(()=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"28px"})),b=(0,i.ZP)(u.Z)(()=>({fontWeight:600,fontSize:"32px",lineHeight:"43.58px"})),C=(0,i.ZP)(c.Z)(()=>({borderRadius:"8px",width:"80px",height:"39px"})),Z=(0,i.ZP)(C)(()=>({color:"white",backgroundColor:"#d5d5d5"})),S=(0,i.ZP)(c.Z)(()=>({color:"white",backgroundColor:"#d5d5d5",width:"313px",height:"48px"}))},44614:function(e,t,n){"use strict";n.d(t,{d:function(){return o},y:function(){return a}});var s=n(98955);function o(e){s.Z.set("ACCESS_TOKEN",e.accessToken),e.refreshToken&&s.Z.set("REFRESH_TOKEN",e.refreshToken)}function a(){s.Z.remove("ACCESS_TOKEN"),s.Z.remove("REFRESH_TOKEN")}}},function(e){e.O(0,[451,910,549,321,332,738,163,971,69,744],function(){return e(e.s=21434)}),_N_E=e.O()}]);